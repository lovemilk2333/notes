---
title: Telegram Core Dump 解决
published: 2025-10-16
tags: [Telegram, Linux, IME]
category: app::telegram
---

在 ArchLinux 上使用 fcitx5 输入法时造成 Telegram Core Dump, 修改环境变量可以解决

在 Telegram 的 shortcut 的环境变量上加入如下内容即可
```env
QT_IM_MODULE=
```

Core Dump Stack
```log
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/usr/lib/libthread_db.so.1".
Core was generated by `/usr/bin/Telegram'.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x00007fd08f1c5c8e in QObject::deleteLater() () from /usr/lib/libQt6Core.so.6
[Current thread is 1 (Thread 0x7fd07cb6b0c0 (LWP 57704))]
(gdb) 
(gdb) bt
#0  0x00007fd08f1c5c8e in QObject::deleteLater() () at /usr/lib/libQt6Core.so.6
#1  0x00007fd091798419 in QWidgetTextControl::inputMethodQuery(Qt::InputMethodQuery, QVariant) const ()
    at /usr/lib/libQt6Widgets.so.6
#2  0x00007fd09176ed78 in QTextEdit::inputMethodQuery(Qt::InputMethodQuery, QVariant) const ()
    at /usr/lib/libQt6Widgets.so.6
#3  0x00007fd09176f3f0 in QTextEdit::inputMethodQuery(Qt::InputMethodQuery) const ()
    at /usr/lib/libQt6Widgets.so.6
#4  0x00007fd09155d306 in QWidget::event(QEvent*) () at /usr/lib/libQt6Widgets.so.6
#5  0x00007fd0915cc576 in QFrame::event(QEvent*) () at /usr/lib/libQt6Widgets.so.6
#6  0x00007fd0915020a0 in QApplicationPrivate::notify_helper(QObject*, QEvent*) ()
    at /usr/lib/libQt6Widgets.so.6
#7  0x0000555db3aaac96 in ??? ()
#8  0x00007fd08f16a6c8 in QCoreApplication::notifyInternal2(QObject*, QEvent*) ()
    at /usr/lib/libQt6Core.so.6
#9  0x00007fd07bb7a8cb in ??? ()
    at /usr/lib/qt6/plugins/platforminputcontexts/libfcitx5platforminputcontextplugin.so
#10 0x00007fd0901be0f4 in QInputMethod::update(QFlags<Qt::InputMethodQuery>) () at /usr/lib/libQt6Gui.so.6
#11 0x00007fd08f1d716f in ??? () at /usr/lib/libQt6Core.so.6
#12 0x00007fd0917aaee7 in QWidgetTextControl::qt_metacall(QMetaObject::Call, int, void**) ()
    at /usr/lib/libQt6Widgets.so.6
#13 0x00007fd08f1d760b in ??? () at /usr/lib/libQt6Core.so.6
#14 0x00007fd0904d7564 in QTextDocumentPrivate::finishEdit() () at /usr/lib/libQt6Gui.so.6
#15 0x0000555db58222c6 in ??? ()
#16 0x0000555db4505ce2 in ??? ()
```
